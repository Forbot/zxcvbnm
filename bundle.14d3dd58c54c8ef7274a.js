(()=>{var t={868:(t,e,r)=>{var n={"./at_at.png":754,"./c3po.png":561,"./darth_vader.png":983,"./death_star.png":95,"./falcon.png":841,"./r2d2.png":210,"./stormtrooper.png":117,"./tie_ln.png":125,"./yoda.png":142};function s(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id=868},754:(t,e,r)=>{"use strict";t.exports=r.p+"83e94ed545ed2cebf0dc.png"},561:(t,e,r)=>{"use strict";t.exports=r.p+"2823e9f7f760f4022047.png"},983:(t,e,r)=>{"use strict";t.exports=r.p+"bdd3168b96cddbcf45ce.png"},95:(t,e,r)=>{"use strict";t.exports=r.p+"dc4f8b75c78b373bba39.png"},841:(t,e,r)=>{"use strict";t.exports=r.p+"4b81074feda41b20e68e.png"},210:(t,e,r)=>{"use strict";t.exports=r.p+"660936cb6cf17db542ae.png"},117:(t,e,r)=>{"use strict";t.exports=r.p+"3935b90913ca7fa38106.png"},125:(t,e,r)=>{"use strict";t.exports=r.p+"b131684af77f5b52e3dd.png"},142:(t,e,r)=>{"use strict";t.exports=r.p+"b0668a451b219d61340f.png"}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{"use strict";const t={};class e{constructor(n=e.random()){this.name=n,t[n]?this.img=t[n].cloneNode():(this.img=new Image,this.img.src=r(868)(`./${n}.png`),t[n]=this.img)}static preload(){e.symbols.forEach((t=>new e(t)))}static get symbols(){return["at_at","c3po","darth_vader","death_star","falcon","r2d2","stormtrooper","tie_ln","yoda"]}static random(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}class n{constructor(t,r,n){this.reelContainer=t,this.idx=r,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{transform:"none",filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{transform:`translateY(-${10*Math.floor(this.factor)/(3+10*Math.floor(this.factor))*100}%)`,filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),n.forEach((t=>this.symbolContainer.appendChild(new e(t).img)))}get factor(){return 1+Math.pow(this.idx/2,2)}renderSymbols(t){const r=document.createDocumentFragment();for(let n=3;n<3+10*Math.floor(this.factor);n++){const s=new e(n>=10*Math.floor(this.factor)-2?t[n-10*Math.floor(this.factor)]:void 0);r.appendChild(s.img)}this.symbolContainer.appendChild(r)}spin(){const t=new Promise((t=>this.animation.onfinish=t)),e=new Promise((t=>setTimeout(t,1e3*this.factor)));return this.animation.play(),Promise.race([t,e]).then((()=>{"finished"!==this.animation.playState&&this.animation.finish();const t=this.symbolContainer.children.length-3;for(let e=0;e<t;e++)this.symbolContainer.firstChild.remove()}))}}const s={inverted:!1,onSpinStart:t=>{console.log("onSpinStart",t)},onSpinEnd:t=>{console.log("onSpinEnd",t)}};new class{constructor(t,r={}){e.preload(),this.currentSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.nextSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.container=t,this.reels=Array.from(this.container.getElementsByClassName("reel")).map(((t,e)=>new n(t,e,this.currentSymbols[e]))),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(()=>this.spin())),this.autoPlayCheckbox=document.getElementById("autoplay"),r.inverted&&this.container.classList.add("inverted"),this.config=r}spin(){return this.currentSymbols=this.nextSymbols,this.nextSymbols=[[e.random(),e.random(),e.random()],[e.random(),e.random(),e.random()],[e.random(),e.random(),e.random()],[e.random(),e.random(),e.random()],[e.random(),e.random(),e.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((t=>(t.renderSymbols(this.nextSymbols[t.idx]),t.spin())))).then((()=>this.onSpinEnd(this.nextSymbols)))}onSpinStart(t){this.spinButton.disabled=!0,this.config.onSpinStart?.(t)}onSpinEnd(t){if(this.spinButton.disabled=!1,this.config.onSpinEnd?.(t),this.autoPlayCheckbox.checked)return window.setTimeout((()=>this.spin()),200)}}(document.getElementById("slot"),s)})()})();